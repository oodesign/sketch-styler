var that=this;function __skpm_run(key,context){that.context=context;var exports=function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/AssignStylesAutomatically.js")}({"./node_modules/@skpm/fs/index.js":
/*!****************************************!*\
  !*** ./node_modules/@skpm/fs/index.js ***!
  \****************************************/
/*! no static exports found */function(e,t,n){var i=n(/*! buffer */"buffer").Buffer,r=n(/*! ./utils */"./node_modules/@skpm/fs/utils.js"),o=r.parseStat,a=r.fsError,s=r.fsErrorForPath,l=r.encodingFromOptions,u=r.NOT_IMPLEMENTED;e.exports.constants={F_OK:0,R_OK:4,W_OK:2,X_OK:1},e.exports.access=u("access"),e.exports.accessSync=function(t,n){n|=0;var i=NSFileManager.defaultManager();switch(n){case 0:canAccess=e.exports.existsSync(t);break;case 1:canAccess=Boolean(Number(i.isExecutableFileAtPath(t)));break;case 2:canAccess=Boolean(Number(i.isWritableFileAtPath(t)));break;case 3:canAccess=Boolean(Number(i.isExecutableFileAtPath(t)))&&Boolean(Number(i.isWritableFileAtPath(t)));break;case 4:canAccess=Boolean(Number(i.isReadableFileAtPath(t)));break;case 5:canAccess=Boolean(Number(i.isReadableFileAtPath(t)))&&Boolean(Number(i.isExecutableFileAtPath(t)));break;case 6:canAccess=Boolean(Number(i.isReadableFileAtPath(t)))&&Boolean(Number(i.isWritableFileAtPath(t)));break;case 7:canAccess=Boolean(Number(i.isReadableFileAtPath(t)))&&Boolean(Number(i.isWritableFileAtPath(t)))&&Boolean(Number(i.isExecutableFileAtPath(t)))}if(!canAccess)throw new Error("Can't access "+String(t))},e.exports.appendFile=u("appendFile"),e.exports.appendFileSync=function(t,n,r){if(!e.exports.existsSync(t))return e.exports.writeFileSync(t,n,r);var o=NSFileHandle.fileHandleForWritingAtPath(t);o.seekToEndOfFile();var a=l(r,"utf8"),s=i.from(n,"NSData"===a||"buffer"===a?void 0:a).toNSData();o.writeData(s)},e.exports.chmod=u("chmod"),e.exports.chmodSync=function(e,t){var n=MOPointer.alloc().init();if(NSFileManager.defaultManager().setAttributes_ofItemAtPath_error({NSFilePosixPermissions:t},e,n),null!==n.value())throw s(e,void 0,n.value())},e.exports.chown=u("chown"),e.exports.chownSync=u("chownSync"),e.exports.close=u("close"),e.exports.closeSync=u("closeSync"),e.exports.copyFile=u("copyFile"),e.exports.copyFileSync=function(e,t,n){var i=MOPointer.alloc().init();if(NSFileManager.defaultManager().copyItemAtPath_toPath_error(e,t,i),null!==i.value())throw s(e,!1,i.value())},e.exports.createReadStream=u("createReadStream"),e.exports.createWriteStream=u("createWriteStream"),e.exports.exists=u("exists"),e.exports.existsSync=function(e){var t=NSFileManager.defaultManager();return Boolean(Number(t.fileExistsAtPath(e)))},e.exports.fchmod=u("fchmod"),e.exports.fchmodSync=u("fchmodSync"),e.exports.fchown=u("fchown"),e.exports.fchownSync=u("fchownSync"),e.exports.fdatasync=u("fdatasync"),e.exports.fdatasyncSync=u("fdatasyncSync"),e.exports.fstat=u("fstat"),e.exports.fstatSync=u("fstatSync"),e.exports.fsync=u("fsync"),e.exports.fsyncSync=u("fsyncSync"),e.exports.ftruncate=u("ftruncate"),e.exports.ftruncateSync=u("ftruncateSync"),e.exports.futimes=u("futimes"),e.exports.futimesSync=u("futimesSync"),e.exports.lchmod=u("lchmod"),e.exports.lchmodSync=u("lchmodSync"),e.exports.lchown=u("lchown"),e.exports.lchownSync=u("lchownSync"),e.exports.link=u("link"),e.exports.linkSync=function(e,t){var n=MOPointer.alloc().init();if(NSFileManager.defaultManager().linkItemAtPath_toPath_error(e,t,n),null!==n.value())throw s(e,void 0,n.value())},e.exports.lstat=u("lstat"),e.exports.lstatSync=function(e){var t=MOPointer.alloc().init(),n=NSFileManager.defaultManager().attributesOfItemAtPath_error(e,t);if(null!==t.value())throw s(e,void 0,t.value());return o(n)},e.exports.mkdir=u("mkdir"),e.exports.mkdirSync=function(e,t){var n=511,i=!1;t&&t.mode&&(n=t.mode),t&&t.recursive&&(i=t.recursive),"number"==typeof t&&(n=t);var r=MOPointer.alloc().init();if(NSFileManager.defaultManager().createDirectoryAtPath_withIntermediateDirectories_attributes_error(e,i,{NSFilePosixPermissions:n},r),null!==r.value())throw new Error(r.value())},e.exports.mkdtemp=u("mkdtemp"),e.exports.mkdtempSync=function(t){var n=t+function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<6;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}();return e.exports.mkdirSync(n),n},e.exports.open=u("open"),e.exports.openSync=u("openSync"),e.exports.read=u("read"),e.exports.readdir=u("readdir"),e.exports.readdirSync=function(e,t){for(var n=l(t,"utf8"),r=NSFileManager.defaultManager().subpathsAtPath(e),o=[],a=0;a<r.length;a++){var s=r[a];o.push("buffer"===n?i.from(s):String(s))}return o},e.exports.readFile=u("readFile"),e.exports.readFileSync=function(e,t){var n=l(t,"buffer"),r=NSFileManager.defaultManager().contentsAtPath(e);if(!r)throw s(e,!1);var o=i.from(r);return"buffer"===n?o:"NSData"===n?o.toNSData():o.toString(n)},e.exports.readlink=u("readlink"),e.exports.readlinkSync=function(e){var t=MOPointer.alloc().init(),n=NSFileManager.defaultManager().destinationOfSymbolicLinkAtPath_error(e,t);if(null!==t.value())throw s(e,void 0,t.value());return String(n)},e.exports.readSync=u("readSync"),e.exports.realpath=u("realpath"),e.exports.realpath.native=u("realpath.native"),e.exports.realpathSync=function(e){return String(NSString.stringWithString(e).stringByResolvingSymlinksInPath())},e.exports.realpathSync.native=u("realpathSync.native"),e.exports.rename=u("rename"),e.exports.renameSync=function(e,t){var n=MOPointer.alloc().init(),i=NSFileManager.defaultManager();i.moveItemAtPath_toPath_error(e,t,n);var r=n.value();if(null!==r){if("NSCocoaErrorDomain"!==String(r.domain())||516!==Number(r.code()))throw s(e,void 0,r);var o=MOPointer.alloc().init();if(i.replaceItemAtURL_withItemAtURL_backupItemName_options_resultingItemURL_error(NSURL.fileURLWithPath(t),NSURL.fileURLWithPath(e),null,NSFileManagerItemReplacementUsingNewMetadataOnly,null,o),null!==o.value())throw s(e,void 0,o.value())}},e.exports.rmdir=u("rmdir"),e.exports.rmdirSync=function(t){var n=MOPointer.alloc().init(),i=NSFileManager.defaultManager();if(!e.exports.lstatSync(t).isDirectory())throw a("ENOTDIR",{path:t,syscall:"rmdir"});if(i.removeItemAtPath_error(t,n),null!==n.value())throw s(t,!0,n.value(),"rmdir")},e.exports.stat=u("stat"),e.exports.statSync=function(t){return e.exports.lstatSync(e.exports.realpathSync(t))},e.exports.symlink=u("symlink"),e.exports.symlinkSync=function(e,t){var n=MOPointer.alloc().init();NSFileManager.defaultManager().createSymbolicLinkAtPath_withDestinationPath_error(t,e,n);if(null!==n.value())throw new Error(n.value())},e.exports.truncate=u("truncate"),e.exports.truncateSync=function(e,t){var n=NSFileHandle.fileHandleForUpdatingAtPath(sFilePath);n.truncateFileAtOffset(t||0),n.closeFile()},e.exports.unlink=u("unlink"),e.exports.unlinkSync=function(t){var n=MOPointer.alloc().init(),i=NSFileManager.defaultManager();if(e.exports.lstatSync(t).isDirectory())throw a("EPERM",{path:t,syscall:"unlink"});i.removeItemAtPath_error(t,n);if(null!==n.value())throw s(t,!1,n.value())},e.exports.unwatchFile=u("unwatchFile"),e.exports.utimes=u("utimes"),e.exports.utimesSync=function(e,t,n){var i=MOPointer.alloc().init();NSFileManager.defaultManager().setAttributes_ofItemAtPath_error({NSFileModificationDate:t},e,i);if(null!==i.value())throw s(e,void 0,i.value())},e.exports.watch=u("watch"),e.exports.watchFile=u("watchFile"),e.exports.write=u("write"),e.exports.writeFile=u("writeFile"),e.exports.writeFileSync=function(e,t,n){var r=l(n,"utf8");i.from(t,"NSData"===r||"buffer"===r?void 0:r).toNSData().writeToFile_atomically(e,!0)},e.exports.writeSync=u("writeSync")},"./node_modules/@skpm/fs/utils.js":
/*!****************************************!*\
  !*** ./node_modules/@skpm/fs/utils.js ***!
  \****************************************/
/*! no static exports found */function(e,t){e.exports.parseStat=function(e){return{dev:String(e.NSFileDeviceIdentifier),mode:e.NSFileType|e.NSFilePosixPermissions,nlink:Number(e.NSFileReferenceCount),uid:String(e.NSFileOwnerAccountID),gid:String(e.NSFileGroupOwnerAccountID),size:Number(e.NSFileSize),atimeMs:1e3*Number(e.NSFileModificationDate.timeIntervalSince1970()),mtimeMs:1e3*Number(e.NSFileModificationDate.timeIntervalSince1970()),ctimeMs:1e3*Number(e.NSFileModificationDate.timeIntervalSince1970()),birthtimeMs:1e3*Number(e.NSFileCreationDate.timeIntervalSince1970()),atime:new Date(1e3*Number(e.NSFileModificationDate.timeIntervalSince1970())+.5),mtime:new Date(1e3*Number(e.NSFileModificationDate.timeIntervalSince1970())+.5),ctime:new Date(1e3*Number(e.NSFileModificationDate.timeIntervalSince1970())+.5),birthtime:new Date(1e3*Number(e.NSFileCreationDate.timeIntervalSince1970())+.5),isBlockDevice:function(){return e.NSFileType===NSFileTypeBlockSpecial},isCharacterDevice:function(){return e.NSFileType===NSFileTypeCharacterSpecial},isDirectory:function(){return e.NSFileType===NSFileTypeDirectory},isFIFO:function(){return!1},isFile:function(){return e.NSFileType===NSFileTypeRegular},isSocket:function(){return e.NSFileType===NSFileTypeSocket},isSymbolicLink:function(){return e.NSFileType===NSFileTypeSymbolicLink}}};var n={EPERM:{message:"operation not permitted",errno:-1},ENOENT:{message:"no such file or directory",errno:-2},EACCES:{message:"permission denied",errno:-13},ENOTDIR:{message:"not a directory",errno:-20},EISDIR:{message:"illegal operation on a directory",errno:-21}};function i(e,t){var i=new Error(e+": "+n[e].message+", "+(t.syscall||"")+(t.path?" '"+t.path+"'":""));return Object.keys(t).forEach(function(e){i[e]=t[e]}),i.code=e,i.errno=n[e].errno,i}e.exports.fsError=i,e.exports.fsErrorForPath=function(t,n,r,o){var a=NSFileManager.defaultManager();if(!a.fileExistsAtPath(t))return i("ENOENT",{path:t,syscall:o||"open"});if(!a.isReadableFileAtPath(t))return i("EACCES",{path:t,syscall:o||"open"});if(void 0!==n){var s=e.exports.lstatSync(t).isDirectory();if(s&&!n)return i("EISDIR",{path:t,syscall:o||"read"});if(!s&&n)return i("ENOTDIR",{path:t,syscall:o||"read"})}return new Error(r||"Unknown error while manipulating "+t)},e.exports.encodingFromOptions=function(e,t){return e&&e.encoding?String(e.encoding):e?String(e):t},e.exports.NOT_IMPLEMENTED=function(e){return function(){throw new Error("fs."+e+" is not implemented yet. If you feel like implementing it, any contribution will be gladly accepted on https://github.com/skpm/fs")}}},"./node_modules/@skpm/timers/immediate.js":
/*!************************************************!*\
  !*** ./node_modules/@skpm/timers/immediate.js ***!
  \************************************************/
/*! no static exports found */function(e,t,n){var i=n(/*! ./timeout */"./node_modules/@skpm/timers/timeout.js");e.exports={setImmediate:function(e,t,n,r,o,a,s,l,u,c,d){return i.setTimeout(e,0,t,n,r,o,a,s,l,u,c,d)},clearImmediate:function(e){return i.clearTimeout(e)}}},"./node_modules/@skpm/timers/interval.js":
/*!***********************************************!*\
  !*** ./node_modules/@skpm/timers/interval.js ***!
  \***********************************************/
/*! no static exports found */function(e,t,n){var i,r,o=[];n(/*! ./test-if-fiber */"./node_modules/@skpm/timers/test-if-fiber.js")()?(i=function(e,t,n,i,r,a,s,l,u,c,d,h){var f=o.length;return o.push(coscript.scheduleWithRepeatingInterval_jsFunction((t||0)/1e3,function(){e(n,i,r,a,s,l,u,c,d,h)})),f},r=function(e){var t=o[e];t&&(t.cancel(),o[e]=void 0)}):(i=function(e,t,n,i,r,a,s,l,u,c,d,h){coscript.shouldKeepAround=!0;var f=o.length;return o.push(!0),function m(){coscript.scheduleWithInterval_jsFunction((t||0)/1e3,function(){o[f]&&(e(n,i,r,a,s,l,u,c,d,h),m())})}(),f},r=function(e){o[e]=!1,o.every(function(e){return!e})&&(coscript.shouldKeepAround=!1)}),e.exports={setInterval:i,clearInterval:r}},"./node_modules/@skpm/timers/test-if-fiber.js":
/*!****************************************************!*\
  !*** ./node_modules/@skpm/timers/test-if-fiber.js ***!
  \****************************************************/
/*! no static exports found */function(e,t){e.exports=function(){return"undefined"!=typeof coscript&&coscript.createFiber}},"./node_modules/@skpm/timers/timeout.js":
/*!**********************************************!*\
  !*** ./node_modules/@skpm/timers/timeout.js ***!
  \**********************************************/
/*! no static exports found */function(e,t,n){var i,r,o=[];if(n(/*! ./test-if-fiber */"./node_modules/@skpm/timers/test-if-fiber.js")()){o=[];i=function(e,t,n,i,r,a,s,l,u,c,d,h){var f=o.length;return o.push(coscript.scheduleWithInterval_jsFunction((t||0)/1e3,function(){e(n,i,r,a,s,l,u,c,d,h)})),f},r=function(e){var t=o[e];t&&(t.cancel(),o[e]=void 0)}}else i=function(e,t,n,i,a,s,l,u,c,d,h,f){coscript.shouldKeepAround=!0;var m=o.length;return o.push(!0),coscript.scheduleWithInterval_jsFunction((t||0)/1e3,function(){o[m]&&e(n,i,a,s,l,u,c,d,h,f),r(m),o.every(function(e){return!e})&&(coscript.shouldKeepAround=!1)}),m},r=function(e){o[e]=!1};e.exports={setTimeout:i,clearTimeout:r}},"./node_modules/d3-color/src/color.js":
/*!********************************************!*\
  !*** ./node_modules/d3-color/src/color.js ***!
  \********************************************/
/*! exports provided: Color, darker, brighter, default, rgbConvert, rgb, Rgb, hslConvert, hsl */function(e,t,n){"use strict";n.r(t),n.d(t,"Color",function(){return r}),n.d(t,"darker",function(){return o}),n.d(t,"brighter",function(){return a}),n.d(t,"default",function(){return v}),n.d(t,"rgbConvert",function(){return M}),n.d(t,"rgb",function(){return _}),n.d(t,"Rgb",function(){return k}),n.d(t,"hslConvert",function(){return R}),n.d(t,"hsl",function(){return E});var i=n(/*! ./define */"./node_modules/d3-color/src/define.js");function r(){}var o=.7,a=1/o,s="\\s*([+-]?\\d+)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3})$/,d=/^#([0-9a-f]{6})$/,h=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),f=new RegExp("^rgb\\("+[u,u,u]+"\\)$"),m=new RegExp("^rgba\\("+[s,s,s,l]+"\\)$"),p=new RegExp("^rgba\\("+[u,u,u,l]+"\\)$"),S=new RegExp("^hsl\\("+[l,u,u]+"\\)$"),g=new RegExp("^hsla\\("+[l,u,u,l]+"\\)$"),y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function b(){return this.rgb().formatHex()}function w(){return this.rgb().formatRgb()}function v(e){var t;return e=(e+"").trim().toLowerCase(),(t=c.exec(e))?new k((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=d.exec(e))?x(parseInt(t[1],16)):(t=h.exec(e))?new k(t[1],t[2],t[3],1):(t=f.exec(e))?new k(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=m.exec(e))?N(t[1],t[2],t[3],t[4]):(t=p.exec(e))?N(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=S.exec(e))?P(t[1],t[2]/100,t[3]/100,1):(t=g.exec(e))?P(t[1],t[2]/100,t[3]/100,t[4]):y.hasOwnProperty(e)?x(y[e]):"transparent"===e?new k(NaN,NaN,NaN,0):null}function x(e){return new k(e>>16&255,e>>8&255,255&e,1)}function N(e,t,n,i){return i<=0&&(e=t=n=NaN),new k(e,t,n,i)}function M(e){return e instanceof r||(e=v(e)),e?new k((e=e.rgb()).r,e.g,e.b,e.opacity):new k}function _(e,t,n,i){return 1===arguments.length?M(e):new k(e,t,n,null==i?1:i)}function k(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function C(){return"#"+F(this.r)+F(this.g)+F(this.b)}function A(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function F(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function P(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new T(e,t,n,i)}function R(e){if(e instanceof T)return new T(e.h,e.s,e.l,e.opacity);if(e instanceof r||(e=v(e)),!e)return new T;if(e instanceof T)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,o=Math.min(t,n,i),a=Math.max(t,n,i),s=NaN,l=a-o,u=(a+o)/2;return l?(s=t===a?(n-i)/l+6*(n<i):n===a?(i-t)/l+2:(t-n)/l+4,l/=u<.5?a+o:2-a-o,s*=60):l=u>0&&u<1?0:s,new T(s,l,u,e.opacity)}function E(e,t,n,i){return 1===arguments.length?R(e):new T(e,t,n,null==i?1:i)}function T(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function W(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}Object(i.default)(r,v,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:b,formatHex:b,formatHsl:function(){return R(this).formatHsl()},formatRgb:w,toString:w}),Object(i.default)(k,_,Object(i.extend)(r,{brighter:function(e){return e=null==e?a:Math.pow(a,e),new k(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?o:Math.pow(o,e),new k(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:C,formatHex:C,formatRgb:A,toString:A})),Object(i.default)(T,E,Object(i.extend)(r,{brighter:function(e){return e=null==e?a:Math.pow(a,e),new T(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?o:Math.pow(o,e),new T(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new k(W(e>=240?e-240:e+120,r,i),W(e,r,i),W(e<120?e+240:e-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}))},"./node_modules/d3-color/src/cubehelix.js":
/*!************************************************!*\
  !*** ./node_modules/d3-color/src/cubehelix.js ***!
  \************************************************/
/*! exports provided: default, Cubehelix */function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return m}),n.d(t,"Cubehelix",function(){return p});var i=n(/*! ./define */"./node_modules/d3-color/src/define.js"),r=n(/*! ./color */"./node_modules/d3-color/src/color.js"),o=n(/*! ./math */"./node_modules/d3-color/src/math.js"),a=-.14861,s=1.78277,l=-.29227,u=-.90649,c=1.97294,d=c*u,h=c*s,f=s*l-u*a;function m(e,t,n,i){return 1===arguments.length?function(e){if(e instanceof p)return new p(e.h,e.s,e.l,e.opacity);e instanceof r.Rgb||(e=Object(r.rgbConvert)(e));var t=e.r/255,n=e.g/255,i=e.b/255,a=(f*i+d*t-h*n)/(f+d-h),s=i-a,m=(c*(n-a)-l*s)/u,S=Math.sqrt(m*m+s*s)/(c*a*(1-a)),g=S?Math.atan2(m,s)*o.rad2deg-120:NaN;return new p(g<0?g+360:g,S,a,e.opacity)}(e):new p(e,t,n,null==i?1:i)}function p(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}Object(i.default)(p,m,Object(i.extend)(r.Color,{brighter:function(e){return e=null==e?r.brighter:Math.pow(r.brighter,e),new p(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?r.darker:Math.pow(r.darker,e),new p(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*o.deg2rad,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),i=Math.cos(e),d=Math.sin(e);return new r.Rgb(255*(t+n*(a*i+s*d)),255*(t+n*(l*i+u*d)),255*(t+n*(c*i)),this.opacity)}}))},"./node_modules/d3-color/src/define.js":
/*!*********************************************!*\
  !*** ./node_modules/d3-color/src/define.js ***!
  \*********************************************/
/*! exports provided: default, extend */function(e,t,n){"use strict";function i(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}n.r(t),n.d(t,"extend",function(){return i}),t.default=function(e,t,n){e.prototype=t.prototype=n,n.constructor=e}},"./node_modules/d3-color/src/index.js":
/*!********************************************!*\
  !*** ./node_modules/d3-color/src/index.js ***!
  \********************************************/
/*! exports provided: color, rgb, hsl, lab, hcl, lch, gray, cubehelix */function(e,t,n){"use strict";n.r(t);var i=n(/*! ./color */"./node_modules/d3-color/src/color.js");n.d(t,"color",function(){return i.default}),n.d(t,"rgb",function(){return i.rgb}),n.d(t,"hsl",function(){return i.hsl});var r=n(/*! ./lab */"./node_modules/d3-color/src/lab.js");n.d(t,"lab",function(){return r.default}),n.d(t,"hcl",function(){return r.hcl}),n.d(t,"lch",function(){return r.lch}),n.d(t,"gray",function(){return r.gray});var o=n(/*! ./cubehelix */"./node_modules/d3-color/src/cubehelix.js");n.d(t,"cubehelix",function(){return o.default})},"./node_modules/d3-color/src/lab.js":
/*!******************************************!*\
  !*** ./node_modules/d3-color/src/lab.js ***!
  \******************************************/
/*! exports provided: gray, default, Lab, lch, hcl, Hcl */function(e,t,n){"use strict";n.r(t),n.d(t,"gray",function(){return m}),n.d(t,"default",function(){return p}),n.d(t,"Lab",function(){return S}),n.d(t,"lch",function(){return x}),n.d(t,"hcl",function(){return N}),n.d(t,"Hcl",function(){return M});var i=n(/*! ./define */"./node_modules/d3-color/src/define.js"),r=n(/*! ./color */"./node_modules/d3-color/src/color.js"),o=n(/*! ./math */"./node_modules/d3-color/src/math.js"),a=.96422,s=1,l=.82521,u=4/29,c=6/29,d=3*c*c,h=c*c*c;function f(e){if(e instanceof S)return new S(e.l,e.a,e.b,e.opacity);if(e instanceof M)return _(e);e instanceof r.Rgb||(e=Object(r.rgbConvert)(e));var t,n,i=w(e.r),o=w(e.g),u=w(e.b),c=g((.2225045*i+.7168786*o+.0606169*u)/s);return i===o&&o===u?t=n=c:(t=g((.4360747*i+.3850649*o+.1430804*u)/a),n=g((.0139322*i+.0971045*o+.7141733*u)/l)),new S(116*c-16,500*(t-c),200*(c-n),e.opacity)}function m(e,t){return new S(e,0,0,null==t?1:t)}function p(e,t,n,i){return 1===arguments.length?f(e):new S(e,t,n,null==i?1:i)}function S(e,t,n,i){this.l=+e,this.a=+t,this.b=+n,this.opacity=+i}function g(e){return e>h?Math.pow(e,1/3):e/d+u}function y(e){return e>c?e*e*e:d*(e-u)}function b(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function w(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function v(e){if(e instanceof M)return new M(e.h,e.c,e.l,e.opacity);if(e instanceof S||(e=f(e)),0===e.a&&0===e.b)return new M(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*o.rad2deg;return new M(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function x(e,t,n,i){return 1===arguments.length?v(e):new M(n,t,e,null==i?1:i)}function N(e,t,n,i){return 1===arguments.length?v(e):new M(e,t,n,null==i?1:i)}function M(e,t,n,i){this.h=+e,this.c=+t,this.l=+n,this.opacity=+i}function _(e){if(isNaN(e.h))return new S(e.l,0,0,e.opacity);var t=e.h*o.deg2rad;return new S(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Object(i.default)(S,p,Object(i.extend)(r.Color,{brighter:function(e){return new S(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new S(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=a*y(t),e=s*y(e),n=l*y(n),new r.Rgb(b(3.1338561*t-1.6168667*e-.4906146*n),b(-.9787684*t+1.9161415*e+.033454*n),b(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),Object(i.default)(M,N,Object(i.extend)(r.Color,{brighter:function(e){return new M(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new M(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return _(this).rgb()}}))},"./node_modules/d3-color/src/math.js":
/*!*******************************************!*\
  !*** ./node_modules/d3-color/src/math.js ***!
  \*******************************************/
/*! exports provided: deg2rad, rad2deg */function(e,t,n){"use strict";n.r(t),n.d(t,"deg2rad",function(){return i}),n.d(t,"rad2deg",function(){return r});var i=Math.PI/180,r=180/Math.PI},"./node_modules/delta-e/src/dE00.js":
/*!******************************************!*\
  !*** ./node_modules/delta-e/src/dE00.js ***!
  \******************************************/
/*! no static exports found */function(e,t,n){"use strict";function i(e,t,n){var i=Math.sqrt,r=Math.pow;this.x1=e,this.x2=t,this.weights=n||{},this.ksubL=this.weights.lightness||1,this.ksubC=this.weights.chroma||1,this.ksubH=this.weights.hue||1,this.deltaLPrime=t.L-e.L,this.LBar=(e.L+t.L)/2,this.C1=i(r(e.A,2)+r(e.B,2)),this.C2=i(r(t.A,2)+r(t.B,2)),this.CBar=(this.C1+this.C2)/2,this.aPrime1=e.A+e.A/2*(1-i(r(this.CBar,7)/(r(this.CBar,7)+r(25,7)))),this.aPrime2=t.A+t.A/2*(1-i(r(this.CBar,7)/(r(this.CBar,7)+r(25,7)))),this.CPrime1=i(r(this.aPrime1,2)+r(e.B,2)),this.CPrime2=i(r(this.aPrime2,2)+r(t.B,2)),this.CBarPrime=(this.CPrime1+this.CPrime2)/2,this.deltaCPrime=this.CPrime2-this.CPrime1,this.SsubL=1+.015*r(this.LBar-50,2)/i(20+r(this.LBar-50,2)),this.SsubC=1+.045*this.CBarPrime,this.hPrime1=0,this.hPrime2=0,this.deltahPrime=0,this.deltaHPrime=0,this.HBarPrime=0,this.T=0,this.SsubH=0,this.RsubT=0}i.prototype.getDeltaE=function(){var e=Math.sqrt,t=Math.sin,n=Math.pow;this.hPrime1=this.gethPrime1(),this.hPrime2=this.gethPrime2(),this.deltahPrime=this.getDeltahPrime(),this.deltaHPrime=2*e(this.CPrime1*this.CPrime2)*t(this.degreesToRadians(this.deltahPrime)/2),this.HBarPrime=this.getHBarPrime(),this.T=this.getT(),this.SsubH=1+.015*this.CBarPrime*this.T,this.RsubT=this.getRsubT();var i=this.deltaLPrime/(this.ksubL*this.SsubL),r=this.deltaCPrime/(this.ksubC*this.SsubC),o=this.deltaHPrime/(this.ksubH*this.SsubH);return e(n(i,2)+n(r,2)+n(o,2)+this.RsubT*r*o)},i.prototype.getRsubT=function(){var e=Math.sin,t=Math.sqrt,n=Math.pow,i=Math.exp;return-2*t(n(this.CBarPrime,7)/(n(this.CBarPrime,7)+n(25,7)))*e(this.degreesToRadians(60*i(-n((this.HBarPrime-275)/25,2))))},i.prototype.getT=function(){var e=Math.cos;return 1-.17*e(this.degreesToRadians(this.HBarPrime-30))+.24*e(this.degreesToRadians(2*this.HBarPrime))+.32*e(this.degreesToRadians(3*this.HBarPrime+6))-.2*e(this.degreesToRadians(4*this.HBarPrime-63))},i.prototype.getHBarPrime=function(){return(0,Math.abs)(this.hPrime1-this.hPrime2)>180?(this.hPrime1+this.hPrime2+360)/2:(this.hPrime1+this.hPrime2)/2},i.prototype.getDeltahPrime=function(){var e=Math.abs;return 0===this.C1||0===this.C2?0:e(this.hPrime1-this.hPrime2)<=180?this.hPrime2-this.hPrime1:this.hPrime2<=this.hPrime1?this.hPrime2-this.hPrime1+360:this.hPrime2-this.hPrime1-360},i.prototype.gethPrime1=function(){return this._gethPrimeFn(this.x1.B,this.aPrime1)},i.prototype.gethPrime2=function(){return this._gethPrimeFn(this.x2.B,this.aPrime2)},i.prototype._gethPrimeFn=function(e,t){var n;return 0===e&&0===t?0:(n=this.radiansToDegrees(Math.atan2(e,t)))>=0?n:n+360},i.prototype.radiansToDegrees=function(e){return e*(180/Math.PI)},i.prototype.degreesToRadians=function(e){return e*(Math.PI/180)},e.exports=i},"./node_modules/delta-e/src/dE76.js":
/*!******************************************!*\
  !*** ./node_modules/delta-e/src/dE76.js ***!
  \******************************************/
/*! no static exports found */function(e,t,n){"use strict";function i(e,t){this.x1=e,this.x2=t}i.prototype.getDeltaE=function(){var e=this.x1,t=this.x2;return Math.sqrt(Math.pow(t.L-e.L,2)+Math.pow(t.A-e.A,2)+Math.pow(t.B-e.B,2))},e.exports=i},"./node_modules/delta-e/src/dE94.js":
/*!******************************************!*\
  !*** ./node_modules/delta-e/src/dE94.js ***!
  \******************************************/
/*! no static exports found */function(e,t,n){"use strict";function i(e,t,n){this.x1=e,this.x2=t,this.weights=n||{},this.weights.lightness=this.weights.lightness||1,this.weights.chroma=this.weights.chroma||1,this.weights.hue=this.weights.hue||1,1===this.weights.lightness?(this.weights.K1=.045,this.weights.K2=.015):(this.weights.K1=.048,this.weights.K2=.014)}i.prototype.getDeltaE=function(){var e=this.x1,t=this.x2,n=Math.sqrt,i=Math.pow;return n(i(this.calculateL(e,t),2)+i(this.calculateA(e,t),2)+i(this.calculateB(e,t),2))},i.prototype.calculateL=function(e,t){return(e.L-t.L)/this.weights.lightness},i.prototype.calculateA=function(e,t){var n=Math.sqrt,i=Math.pow,r=n(i(e.A,2)+i(e.B,2)),o=r-n(i(t.A,2)+i(t.B,2)),a=1+this.weights.K1*r;return o/(this.weights.chroma*a)},i.prototype.calculateB=function(e,t){var n=Math.sqrt,i=Math.pow,r=(l=n(i(e.A,2)+i(e.B,2)))-n(i(t.A,2)+i(t.B,2)),o=e.A-t.A,a=e.B-t.B,s=n(i(o,2)+i(a,2)-i(r,2)),l=n(i(e.A,2)+i(e.B,2));return s/(1+this.weights.K2*l)},e.exports=i},"./node_modules/delta-e/src/index.js":
/*!*******************************************!*\
  !*** ./node_modules/delta-e/src/index.js ***!
  \*******************************************/
/*! no static exports found */function(e,t,n){"use strict";var i=n(/*! ./dE76 */"./node_modules/delta-e/src/dE76.js"),r=n(/*! ./dE94 */"./node_modules/delta-e/src/dE94.js"),o=n(/*! ./dE00 */"./node_modules/delta-e/src/dE00.js");function a(){}a.prototype.getDeltaE76=function(e,t){return new i(e,t).getDeltaE()},a.prototype.getDeltaE94=function(e,t){return new r(e,t).getDeltaE()},a.prototype.getDeltaE00=function(e,t){return new o(e,t).getDeltaE()},e.exports=new a},"./node_modules/mocha-js-delegate/index.js":
/*!*************************************************!*\
  !*** ./node_modules/mocha-js-delegate/index.js ***!
  \*************************************************/
/*! no static exports found */function(module,exports){module.exports=function MochaDelegate(definition,superclass){var uniqueClassName="MochaJSDelegate_DynamicClass_"+NSUUID.UUID().UUIDString(),delegateClassDesc=MOClassDescription.allocateDescriptionForClassWithName_superclass_(uniqueClassName,superclass||NSObject),handlers={},ivars={};function setHandlerForSelector(selectorString,func){var handlerHasBeenSet=selectorString in handlers,selector=NSSelectorFromString(selectorString);if(handlers[selectorString]=func,!handlerHasBeenSet){for(var args=[],regex=/:/g;regex.exec(selectorString);)args.push("arg"+args.length);var dynamicFunction=eval("(function ("+args.join(", ")+") { return handlers[selectorString].apply(this, arguments); })");delegateClassDesc.addInstanceMethodWithSelector_function(selector,dynamicFunction)}}function setIvar(e,t){var n=e in handlers;if(ivars[e]=t,!n){delegateClassDesc.addInstanceVariableWithName_typeEncoding(e,"@");var i=MOPropertyDescription.new();i.name=e,i.typeEncoding="@",i.weak=!0,i.ivarName=e,delegateClassDesc.addProperty(i)}}this.getClass=function(){return NSClassFromString(uniqueClassName)},this.getClassInstance=function(e){var t=NSClassFromString(uniqueClassName).new();return Object.keys(ivars).forEach(function(e){t[e]=ivars[e]}),Object.keys(e||{}).forEach(function(n){t[n]=e[n]}),t},this.new=this.getClassInstance,"object"==typeof definition&&Object.keys(definition).forEach(function(e){"function"==typeof definition[e]?setHandlerForSelector(e,definition[e]):setIvar(e,definition[e])}),delegateClassDesc.registerClass()}},"./node_modules/promise-polyfill/lib/index.js":
/*!****************************************************!*\
  !*** ./node_modules/promise-polyfill/lib/index.js ***!
  \****************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(t,n){var i=t;function r(e){return Boolean(e&&void 0!==e.length)}function o(){}function a(e){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(e,this)}function s(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(e){return void u(t.promise,e)}l(t.promise,i)}else(1===e._state?l:u)(t.promise,e._value)})):e._deferreds.push(t)}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof a)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void d(function(e,t){return function(){e.apply(t,arguments)}}(n,t),e)}e._state=1,e._value=t,c(e)}catch(t){u(e,t)}}function u(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&a._immediateFn(function(){e._handled||a._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)s(e,e._deferreds[t]);e._deferreds=null}function d(e,t){var n=!1;try{e(function(e){n||(n=!0,l(t,e))},function(e){n||(n=!0,u(t,e))})}catch(e){if(n)return;n=!0,u(t,e)}}a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(o);return s(this,new function(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}(e,t,n)),n},a.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})},a.all=function(e){return new a(function(t,n){if(!r(e))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var o=i.length;function a(e,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var s=r.then;if("function"==typeof s)return void s.call(r,function(t){a(e,t)},n)}i[e]=r,0==--o&&t(i)}catch(e){n(e)}}for(var s=0;s<i.length;s++)a(s,i[s])})},a.resolve=function(e){return e&&"object"==typeof e&&e.constructor===a?e:new a(function(t){t(e)})},a.reject=function(e){return new a(function(t,n){n(e)})},a.race=function(e){return new a(function(t,n){if(!r(e))return n(new TypeError("Promise.race accepts an array"));for(var i=0,o=e.length;i<o;i++)a.resolve(e[i]).then(t,n)})},a._immediateFn="function"==typeof n&&function(e){n(e)}||function(e){i(e,0)},a._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},e.exports=a}).call(this,n(/*! ./node_modules/@skpm/timers/timeout.js */"./node_modules/@skpm/timers/timeout.js").setTimeout,n(/*! ./node_modules/@skpm/timers/immediate.js */"./node_modules/@skpm/timers/immediate.js").setImmediate)},"./node_modules/sketch-module-google-analytics/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/sketch-module-google-analytics/index.js ***!
  \**************************************************************/
/*! no static exports found */function(e,t,n){var i=n(/*! sketch/settings */"sketch/settings"),r=null;(r=NSUserDefaults.standardUserDefaults().objectForKey("google.analytics.uuid"))||(r=NSUUID.UUID().UUIDString(),NSUserDefaults.standardUserDefaults().setObject_forKey(r,"google.analytics.uuid"));var o=MSApplicationMetadata.metadata().variant,a="Sketch "+("NONAPPSTORE"==o?"":o+" ")+i.version.sketch;e.exports=function(e,t,n,o){if(!i.globalSettingForKey("analyticsEnabled"))return"the user didn't enable sharing analytics";var s={v:1,tid:e,ds:a,cid:r,t:t};return"undefined"!=typeof __command&&(s.an=__command.pluginBundle().name(),s.aid=__command.pluginBundle().identifier(),s.av=__command.pluginBundle().version()),n&&Object.keys(n).forEach(function(e){s[e]=n[e]}),function(e,t){if(e){if(t&&t.makeRequest)return t.makeRequest(e);if(t&&t.debug){var n=NSURLRequest.requestWithURL(e),i=MOPointer.alloc().init(),r=MOPointer.alloc().init(),o=NSURLConnection.sendSynchronousRequest_returningResponse_error(n,i,r);return o?NSString.alloc().initWithData_encoding(o,NSUTF8StringEncoding):r.value()}NSURLSession.sharedSession().dataTaskWithURL(e).resume()}}(NSURL.URLWithString("https://www.google-analytics.com/"+(o&&o.debug?"debug/":"")+"collect?"+function(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")}(s)+"&z="+NSUUID.UUID().UUIDString()),o)}},"./node_modules/sketch-module-web-view/lib/browser-api.js":
/*!****************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/browser-api.js ***!
  \****************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e,t,n){function i(n){e.isVisible()&&(n?(NSApplication.sharedApplication().activateIgnoringOtherApps(!0),t.makeKeyAndOrderFront(null)):(t.orderBack(null),NSApp.mainWindow().makeKeyAndOrderFront(null)))}e._panel=t,e._webview=n,e._destroyed=!1,e.destroy=function(){return t.close()},e.close=function(){if(t.delegate().utils.parentWindow){var n=!0;return e.emit("close",{get defaultPrevented(){return!n},preventDefault:function(){n=!1}}),void(n&&t.delegate().utils.parentWindow.endSheet(t))}e.isClosable()&&t.performClose(null)},e.focus=i.bind(this,!0),e.blur=i.bind(this,!1),e.isFocused=function(){return t.isKeyWindow()},e.isDestroyed=function(){return e._destroyed},e.show=function(){return NSApp.activateIgnoringOtherApps(!0),t.delegate().utils.parentWindow?t.delegate().utils.parentWindow.beginSheet_completionHandler(t,__mocha__.createBlock_function("v16@?0q8",function(){e.emit("closed")})):t.makeKeyAndOrderFront(null)},e.showInactive=function(){return t.orderFrontRegardless()},e.hide=function(){return t.orderOut(null)},e.isVisible=function(){return t.isVisible()},e.isModal=function(){return!1},e.maximize=function(){e.isMaximized()||t.zoom(null)},e.unmaximize=function(){e.isMaximized()&&t.zoom(null)},e.isMaximized=function(){if(0!=(t.styleMask()&NSResizableWindowMask))return t.isZoomed();var e=NSScreen.mainScreen().visibleFrame(),n=t.frame();return e.origin.x==n.origin.x&&e.origin.y==n.origin.y&&e.size.width==n.size.width&&e.size.height==n.size.height},e.minimize=function(){return t.miniaturize(null)},e.restore=function(){return t.deminiaturize(null)},e.isMinimized=function(){return t.isMiniaturized()},e.setFullScreen=function(n){n!==e.isFullscreen()&&t.toggleFullScreen(null)},e.isFullscreen=function(){return t.styleMask()&NSFullScreenWindowMask},e.setAspectRatio=function(e){e>0?t.setAspectRatio(NSMakeSize(e,1)):t.setResizeIncrements(NSMakeSize(1,1))},e.setBounds=function(n,i){if(!n)return;if(e.isFullscreen())return;const r=Object.assign(e.getBounds(),n);var o=NSMakeRect(r.x,0,r.width,r.height),a=NSScreen.screens().firstObject();o.origin.y=NSHeight(a.frame())-r.y,t.setFrame_display_animate(o,!0,i)},e.getBounds=function(){const e=t.frame();var n=NSScreen.screens().firstObject().frame();return{x:e.origin.x,y:Math.round(NSHeight(n)-e.origin.y),width:e.size.width,height:e.size.height}},e.setContentBounds=function(t,n){e.setBounds(t,n)},e.getContentBounds=function(){return e.getBounds()},e.setSize=function(t,n,i){return e.setBounds({width:t,height:n},i)},e.getSize=function(){var t=e.getBounds();return[t.width,t.height]},e.setContentSize=function(t,n,i){return e.setContentBounds({width:t,height:n},i)},e.getContentSize=function(){var t=e.getContentBounds();return[t.width,t.height]},e.setMinimumSize=function(e,n){const i=CGSizeMake(e,n);t.setContentMinSize(i)},e.getMinimumSize=function(){const e=t.contentMinSize();return[e.width,e.height]},e.setMaximumSize=function(e,n){const i=CGSizeMake(e,n);t.setContentMaxSize(i)},e.getMaximumSize=function(){const e=t.contentMaxSize();return[e.width,e.height]},e.setResizable=function(t){return e._setStyleMask(t,NSResizableWindowMask)},e.isResizable=function(){return t.styleMask()&NSResizableWindowMask},e.setMovable=function(e){return t.setMovable(e)},e.isMovable=function(){return t.isMovable()},e.setMinimizable=function(t){return e._setStyleMask(t,NSMiniaturizableWindowMask)},e.isMinimizable=function(){return t.styleMask()&NSMiniaturizableWindowMask},e.setMaximizable=function(e){t.standardWindowButton(NSWindowZoomButton)&&t.standardWindowButton(NSWindowZoomButton).setEnabled(e)},e.isMaximizable=function(){return t.standardWindowButton(NSWindowZoomButton)&&t.standardWindowButton(NSWindowZoomButton).isEnabled()},e.setFullScreenable=function(t){e._setCollectionBehavior(t,NSWindowCollectionBehaviorFullScreenPrimary),e._setCollectionBehavior(!t,NSWindowCollectionBehaviorFullScreenAuxiliary)},e.isFullScreenable=function(){return t.collectionBehavior()&NSWindowCollectionBehaviorFullScreenPrimary},e.setClosable=function(t){e._setStyleMask(t,NSClosableWindowMask)},e.isClosable=function(){return t.styleMask()&NSClosableWindowMask},e.setAlwaysOnTop=function(e,n,i){var r=NSNormalWindowLevel,o=CGWindowLevelForKey(kCGMaximumWindowLevelKey),a=CGWindowLevelForKey(kCGMinimumWindowLevelKey);e&&(r="normal"===n?NSNormalWindowLevel:"torn-off-menu"===n?NSTornOffMenuWindowLevel:"modal-panel"===n?NSModalPanelWindowLevel:"main-menu"===n?NSMainMenuWindowLevel:"status"===n?NSStatusWindowLevel:"pop-up-menu"===n?NSPopUpMenuWindowLevel:"screen-saver"===n?NSScreenSaverWindowLevel:"dock"===n?NSDockWindowLevel:NSFloatingWindowLevel);var s=r+(i||0);if(!(s>=a&&s<=o))throw new Error("relativeLevel must be between "+a+" and "+o);t.setLevel(s)},e.isAlwaysOnTop=function(){return t.level()!==NSNormalWindowLevel},e.moveTop=function(){return t.orderFrontRegardless()},e.center=function(){t.center()},e.setPosition=function(t,n,i){return e.setBounds({x:t,y:n},i)},e.getPosition=function(){var t=e.getBounds();return[t.x,t.y]},e.setTitle=function(e){t.setTitle(e)},e.getTitle=function(){return String(t.title())};var r=0;e.flashFrame=function(e){e?r=NSApp.requestUserAttention(NSInformationalRequest):(NSApp.cancelUserAttentionRequest(r),r=0)},e.getNativeWindowHandle=function(){return t},e.getNativeWebViewHandle=function(){return n},e.loadURL=function(e){if(/^(?!https?|file).*\.html?$/.test(e)&&"undefined"!=typeof __command&&__command.pluginBundle()&&(e="file://"+__command.pluginBundle().urlForResourceNamed(e).path()),/^file:\/\/.*\.html?$/.test(e))return void n.loadFileURL_allowingReadAccessToURL(NSURL.fileURLWithPath(e),NSURL.fileURLWithPath("file:///"));const t=NSURL.URLWithString(e),i=NSURLRequest.requestWithURL(t);n.loadRequest(i)},e.reload=function(){n.reload()},e.setHasShadow=function(e){return t.setHasShadow(e)},e.hasShadow=function(){return t.hasShadow()},e.setOpacity=function(e){return t.setAlphaValue(e)},e.getOpacity=function(){return t.alphaValue()},e.setVisibleOnAllWorkspaces=function(t){return e._setCollectionBehavior(t,NSWindowCollectionBehaviorCanJoinAllSpaces)},e.isVisibleOnAllWorkspaces=function(){return t.collectionBehavior()&NSWindowCollectionBehaviorCanJoinAllSpaces},e.setIgnoreMouseEvents=function(e){return t.setIgnoresMouseEvents(e)},e.setContentProtection=function(e){t.setSharingType(e?NSWindowSharingNone:NSWindowSharingReadOnly)},e.setAutoHideCursor=function(e){t.setDisableAutoHideCursor(e)},e.setVibrancy=function(n){var i=e._vibrantView;if(!n){if(null==i)return;return i.removeFromSuperview(),void t.setVibrantView(null)}if(null==i){var r=t.contentView();i=NSVisualEffectView.alloc().initWithFrame(r.bounds()),e._vibrantView=i,i.setAutoresizingMask(NSViewWidthSizable|NSViewHeightSizable),i.setBlendingMode(NSVisualEffectBlendingModeBehindWindow),i.setState(NSVisualEffectStateActive),i.setFrame(r.bounds()),r.addSubview_positioned_relativeTo(i,NSWindowBelow,null)}var o=NSVisualEffectMaterialLight;"appearance-based"===n?o=NSVisualEffectMaterialAppearanceBased:"light"===n?o=NSVisualEffectMaterialLight:"dark"===n?o=NSVisualEffectMaterialDark:"titlebar"===n?o=NSVisualEffectMaterialTitlebar:"selection"===n?o=NSVisualEffectMaterialSelection:"menu"===n?o=NSVisualEffectMaterialMenu:"popover"===n?o=NSVisualEffectMaterialPopover:"sidebar"===n?o=NSVisualEffectMaterialSidebar:"medium-light"===n?o=NSVisualEffectMaterialMediumLight:"ultra-dark"===n&&(o=NSVisualEffectMaterialUltraDark),i.setMaterial(o)},e._setBackgroundColor=function(e){var i=function(e){if(!e||"#"!==e[0]){if(e&&"function"==typeof e.isKindOfClass&&e.isKindOfClass(NSColor))return e;throw new Error("Incorrect color formating. It should be an hex color: #RRGGBBAA")}var t,n=e.substr(1);if(3===n.length?n+="F":6===n.length&&(n+="FF"),4===n.length)for(var i=0;i<4;i+=1)t+=n[i],t+=n[i];else{if(8!==n.length)return NSColor.whiteColor();t=n}var r=parseInt(t.slice(0,2),16),o=parseInt(t.slice(2,4),16),a=parseInt(t.slice(4,6),16),s=parseInt(t.slice(6,8),16);return NSColor.colorWithSRGBRed_green_blue_alpha(r,o,a,s)}(e);n.setValue_forKey(!1,"drawsBackground"),t.backgroundColor=i},e._invalidate=function(){t.flushWindow(),t.contentView().setNeedsDisplay(!0)},e._setStyleMask=function(n,i){var r=e.isMaximizable();n?t.setStyleMask(t.styleMask()|i):t.setStyleMask(t.styleMask()&~i),e.setMaximizable(r)},e._setCollectionBehavior=function(n,i){var r=e.isMaximizable();n?t.setCollectionBehavior(t.collectionBehavior()|i):t.setCollectionBehavior(t.collectionBehavior()&~i),e.setMaximizable(r)},e._showWindowButton=function(e){var n=t.standardWindowButton(e);n.superview().addSubview_positioned_relative(n,NSWindowAbove,null)}}},"./node_modules/sketch-module-web-view/lib/constants.js":
/*!**************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/constants.js ***!
  \**************************************************************/
/*! no static exports found */function(e,t){e.exports={JS_BRIDGE:"__skpm_sketchBridge",START_MOVING_WINDOW:"__skpm_startMovingWindow",EXECUTE_JAVASCRIPT:"__skpm_executeJS",EXECUTE_JAVASCRIPT_SUCCESS:"__skpm_executeJS_success_",EXECUTE_JAVASCRIPT_ERROR:"__skpm_executeJS_error_"}},"./node_modules/sketch-module-web-view/lib/dispatch-first-click.js":
/*!*************************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/dispatch-first-click.js ***!
  \*************************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e,t){var n=e.convertPoint_fromView(t.locationInWindow(),null);return"var el = document.elementFromPoint("+n.x+", "+n.y+'); if (el && ["text", "textarea", "date", "datetime-local", "email", "number", "month", "password", "search", "tel", "time", "url", "week" ].indexOf(el.type) >= 0 && el.focus) {el.focus();} else if (el) {el.dispatchEvent(new Event("click", {bubbles: true}))}'}},"./node_modules/sketch-module-web-view/lib/execute-javascript.js":
/*!***********************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/execute-javascript.js ***!
  \***********************************************************************/
/*! no static exports found */function(e,t,n){(function(t){var i=n(/*! ./constants */"./node_modules/sketch-module-web-view/lib/constants.js");e.exports=function(n,r){return function o(a,s,l){"function"==typeof s&&(l=s,s=!1);var u=coscript.createFiber();return 0==n.navigationDelegate().state.wasReady?new t(function(e,t){r.once("ready-to-show",function(){o(a,s,l).then(e).catch(t),u.cleanup()})}):new t(function(t,o){var s=Math.random();r.webContents.on(i.EXECUTE_JAVASCRIPT_SUCCESS+s,function(e){try{l&&l(null,e),t(e)}catch(e){}u.cleanup()}),r.webContents.on(i.EXECUTE_JAVASCRIPT_ERROR+s,function(e){try{l?(l(e),t()):o(e)}catch(e){}u.cleanup()}),n.evaluateJavaScript_completionHandler(e.exports.wrapScript(a,s),null)})}},e.exports.wrapScript=function(e,t){return"window."+i.EXECUTE_JAVASCRIPT+"("+t+", "+JSON.stringify(e)+")"},e.exports.injectScript=function(e){var t="window."+i.EXECUTE_JAVASCRIPT+' = function(id, script) {  try {    var res = eval(script);    if (res && typeof res.then === "function" && typeof res.catch === "function") {      res.then(function (res2) {        window.postMessage("'+i.EXECUTE_JAVASCRIPT_SUCCESS+'" + id, res2);      })      .catch(function (err) {        window.postMessage("'+i.EXECUTE_JAVASCRIPT_ERROR+'" + id, err);      })    } else {      window.postMessage("'+i.EXECUTE_JAVASCRIPT_SUCCESS+'" + id, res);    }  } catch (err) {    window.postMessage("'+i.EXECUTE_JAVASCRIPT_ERROR+'" + id, err);  }}',n=WKUserScript.alloc().initWithSource_injectionTime_forMainFrameOnly(t,0,!0);e.configuration().userContentController().addUserScript(n)}}).call(this,n(/*! ./node_modules/promise-polyfill/lib/index.js */"./node_modules/promise-polyfill/lib/index.js"))},"./node_modules/sketch-module-web-view/lib/fitSubview.js":
/*!***************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/fitSubview.js ***!
  \***************************************************************/
/*! no static exports found */function(e,t){function n(e,t,n,i){n.addConstraint(NSLayoutConstraint.constraintWithItem_attribute_relatedBy_toItem_attribute_multiplier_constant(t,e,NSLayoutRelationEqual,n,e,1,i))}e.exports=function(e,t,i){i=i||[],e.setTranslatesAutoresizingMaskIntoConstraints(!1),n(NSLayoutAttributeLeft,e,t,i[0]||0),n(NSLayoutAttributeTop,e,t,i[1]||0),n(NSLayoutAttributeRight,e,t,i[2]||0),n(NSLayoutAttributeBottom,e,t,i[3]||0)}},"./node_modules/sketch-module-web-view/lib/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/index.js ***!
  \**********************************************************/
/*! no static exports found */function(e,t,n){var i=n(/*! events */"events"),r=n(/*! ./browser-api */"./node_modules/sketch-module-web-view/lib/browser-api.js"),o=n(/*! ./webview-api */"./node_modules/sketch-module-web-view/lib/webview-api.js"),a=n(/*! ./fitSubview */"./node_modules/sketch-module-web-view/lib/fitSubview.js"),s=n(/*! ./dispatch-first-click */"./node_modules/sketch-module-web-view/lib/dispatch-first-click.js"),l=n(/*! ./inject-client-messaging */"./node_modules/sketch-module-web-view/lib/inject-client-messaging.js"),u=n(/*! ./movable-area */"./node_modules/sketch-module-web-view/lib/movable-area.js"),c=n(/*! ./execute-javascript */"./node_modules/sketch-module-web-view/lib/execute-javascript.js"),d=n(/*! ./set-delegates */"./node_modules/sketch-module-web-view/lib/set-delegates.js");function h(e){var t=(e=e||{}).identifier||NSUUID.UUID().UUIDString(),n=NSThread.mainThread().threadDictionary(),f=h.fromId(t);if(f)return f;var m=new i;if(m.id=t,e.modal&&!e.parent)throw new Error("A modal needs to have a parent.");var p=coscript.createFiber(),S=e.width||800,g=e.height||600,y=NSScreen.screens().firstObject().frame(),b=NSMakeRect(void 0!==e.x?e.x:Math.round((NSWidth(y)-S)/2),void 0!==e.y?NSHeight(y)-e.y:Math.round((NSHeight(y)-g)/2),S,g);e.titleBarStyle&&"default"!==e.titleBarStyle&&(e.frame=!1);var w="textured"!==e.windowType,v=NSTitledWindowMask;!1!==e.minimizable&&(v|=NSMiniaturizableWindowMask),!1!==e.closable&&(v|=NSClosableWindowMask),!1!==e.resizable&&(v|=NSResizableWindowMask),w&&!e.transparent&&!1!==e.frame||(v|=NSTexturedBackgroundWindowMask);var x=NSPanel.alloc().initWithContentRect_styleMask_backing_defer(b,v,NSBackingStoreBuffered,!0),N=WKWebViewConfiguration.alloc().init(),M=WKWebView.alloc().initWithFrame_configuration(CGRectMake(0,0,e.width||800,e.height||600),N);if(l(M),M.setAutoresizingMask(NSViewWidthSizable|NSViewHeightSizable),r(m,x,M),o(m,x,M),d(m,x,M,e),"desktop"===e.windowType&&(x.setLevel(kCGDesktopWindowLevel-1),x.setCollectionBehavior(NSWindowCollectionBehaviorCanJoinAllSpaces|NSWindowCollectionBehaviorStationary|NSWindowCollectionBehaviorIgnoresCycle)),void 0===e.minWidth&&void 0===e.minHeight||m.setMinimumSize(e.minWidth||0,e.minHeight||0),void 0===e.maxWidth&&void 0===e.maxHeight||m.setMaximumSize(e.maxWidth||1e4,e.maxHeight||1e4),e.transparent||!1===e.frame){x.titlebarAppearsTransparent=!0,x.titleVisibility=NSWindowTitleHidden,x.setOpaque(0),x.isMovableByWindowBackground=!0;var _=NSToolbar.alloc().initWithIdentifier("titlebarStylingToolbar");_.setShowsBaselineSeparator(!1),x.setToolbar(_)}if("hiddenInset"===e.titleBarStyle){var k=NSToolbar.alloc().initWithIdentifier("titlebarStylingToolbar");k.setShowsBaselineSeparator(!1),x.setToolbar(k)}!1!==e.frame&&e.useContentSize||m.setSize(S,g),e.center&&m.center(),e.alwaysOnTop&&m.setAlwaysOnTop(!0),e.fullscreen&&m.setFullScreen(!0),m.setFullScreenable(!!e.fullscreenable);const C=e.title||("undefined"!=typeof __command&&__command.pluginBundle()?__command.pluginBundle().name():void 0);C&&m.setTitle(C);var A=e.backgroundColor;e.transparent&&(A=NSColor.clearColor()),!A&&!1===e.frame&&e.vibrancy&&(A=NSColor.clearColor()),m._setBackgroundColor(A||NSColor.windowBackgroundColor()),!1===e.hasShadow&&m.setHasShadow(!1),void 0!==e.opacity&&m.setOpacity(e.opacity),e.webPreferences=e.webPreferences||{},M.configuration().preferences().setValue_forKey(!1!==e.webPreferences.devTools,"developerExtrasEnabled"),M.configuration().preferences().setValue_forKey(!1!==e.webPreferences.javascript,"javaScriptEnabled"),M.configuration().preferences().setValue_forKey(!!e.webPreferences.plugins,"plugInsEnabled"),M.configuration().preferences().setValue_forKey(e.webPreferences.minimumFontSize||0,"minimumFontSize"),e.webPreferences.zoomFactor&&M.setMagnification(e.webPreferences.zoomFactor);var F=x.contentView();return!1!==e.frame?(M.setFrame(F.bounds()),F.addSubview(M)):(F.setAutoresizingMask(NSViewWidthSizable|NSViewHeightSizable),a(F,F.superview()),M.setFrame(F.bounds()),F.addSubview(M),x.standardWindowButton(NSWindowFullScreenButton)&&x.standardWindowButton(NSWindowFullScreenButton).setHidden(!0),e.titleBarStyle&&"default"!==e.titleBarStyle||(x.standardWindowButton(NSWindowZoomButton).setHidden(!0),x.standardWindowButton(NSWindowMiniaturizeButton).setHidden(!0),x.standardWindowButton(NSWindowCloseButton).setHidden(!0),x.standardWindowButton(NSWindowZoomButton).setEnabled(!1))),e.vibrancy&&m.setVibrancy(e.vibrancy),m.setMaximizable(!1!==e.maximizable),e.acceptsFirstMouse&&m.on("focus",function(e){e.type()===NSEventTypeLeftMouseDown&&m.webContents.executeJavaScript(s(M,e)).catch(()=>{})}),c.injectScript(M),u.injectScript(M),u.setupHandler(m),!1!==e.show&&m.show(),m.on("closed",function(){m._destroyed=!0,n.removeObjectForKey(t),p.cleanup()}),n[t]=x,p.onCleanup(function(){m._destroyed||m.destroy()}),m}h.fromId=function(e){var t=NSThread.mainThread().threadDictionary();if(t[e])return h.fromPanel(t[e],e)},h.fromPanel=function(e,t){var n=new i;if(n.id=t,!e||!e.contentView)throw new Error("needs to pass an NSPanel");for(var a=null,s=e.contentView().subviews(),l=0;l<s.length;l+=1)a||s[l].isKindOfClass(WKInspectorWKWebView)||!s[l].isKindOfClass(WKWebView)||(a=s[l]);if(!a)throw new Error("The panel needs to have a webview");return r(n,e,a),o(n,e,a),n},e.exports=h},"./node_modules/sketch-module-web-view/lib/inject-client-messaging.js":
/*!****************************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/inject-client-messaging.js ***!
  \****************************************************************************/
/*! no static exports found */function(e,t,n){var i=n(/*! ./constants */"./node_modules/sketch-module-web-view/lib/constants.js");e.exports=function(e){var t="window.originalPostMessage = window.postMessage;window.postMessage = function(actionName) {if (!actionName) {throw new Error('missing action name')}window.webkit.messageHandlers."+i.JS_BRIDGE+".postMessage(JSON.stringify([].slice.call(arguments)));}",n=WKUserScript.alloc().initWithSource_injectionTime_forMainFrameOnly(t,0,!0);e.configuration().userContentController().addUserScript(n)}},"./node_modules/sketch-module-web-view/lib/movable-area.js":
/*!*****************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/movable-area.js ***!
  \*****************************************************************/
/*! no static exports found */function(e,t,n){(function(t,i){var r=n(/*! ./constants */"./node_modules/sketch-module-web-view/lib/constants.js");e.exports.injectScript=function(e){var t='(function () {document.addEventListener(\'mousedown\', onMouseDown);function shouldDrag(target) {  if (!target || (target.dataset || {}).appRegion === "no-drag") { return false }  if ((target.dataset || {}).appRegion === "drag") { return true }  return shouldDrag(target.parentElement)};function onMouseDown(e) {  if (e.button !== 0 || !shouldDrag(e.target)) { return }  window.postMessage("'+r.START_MOVING_WINDOW+'");};})()',n=WKUserScript.alloc().initWithSource_injectionTime_forMainFrameOnly(t,0,!0);e.configuration().userContentController().addUserScript(n)},e.exports.setupHandler=function(e){var n=null,o=null,a=null;function s(){if(!o||1!==NSEvent.pressedMouseButtons())return t(a),n=null,void(o=null);var i=NSEvent.mouseLocation();e.setPosition(o.x+(i.x-n.x),o.y+(n.y-i.y),!1)}e.webContents.on(r.START_MOVING_WINDOW,function(){n=NSEvent.mouseLocation();var t=e.getPosition();o={x:t[0],y:t[1]},a=i(s,1e3/60)})}}).call(this,n(/*! ./node_modules/@skpm/timers/interval.js */"./node_modules/@skpm/timers/interval.js").clearInterval,n(/*! ./node_modules/@skpm/timers/interval.js */"./node_modules/@skpm/timers/interval.js").setInterval)},"./node_modules/sketch-module-web-view/lib/parseWebArguments.js":
/*!**********************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/parseWebArguments.js ***!
  \**********************************************************************/
/*! no static exports found */function(e,t){e.exports=function(e){var t=null;try{t=JSON.parse(e)}catch(e){}return t&&t.constructor&&t.constructor===Array&&0!=t.length?t:null}},"./node_modules/sketch-module-web-view/lib/set-delegates.js":
/*!******************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/set-delegates.js ***!
  \******************************************************************/
/*! no static exports found */function(e,t,n){var i,r,o,a=n(/*! mocha-js-delegate */"./node_modules/mocha-js-delegate/index.js"),s=n(/*! ./parseWebArguments */"./node_modules/sketch-module-web-view/lib/parseWebArguments.js"),l=n(/*! ./constants */"./node_modules/sketch-module-web-view/lib/constants.js");e.exports=function(e,t,n,u){i||(i=new a({utils:null,panel:null,"windowDidResize:":function(){this.utils.emit("resize")},"windowDidMiniaturize:":function(){this.utils.emit("minimize")},"windowDidDeminiaturize:":function(){this.utils.emit("restore")},"windowDidEnterFullScreen:":function(){this.utils.emit("enter-full-screen")},"windowDidExitFullScreen:":function(){this.utils.emit("leave-full-screen")},"windowDidMove:":function(){this.utils.emit("move"),this.utils.emit("moved")},"windowShouldClose:":function(){var e=!0;return this.utils.emit("close",{get defaultPrevented(){return!e},preventDefault:function(){e=!1}}),e},"windowWillClose:":function(){this.utils.emit("closed")},"windowDidBecomeKey:":function(){this.utils.emit("focus",this.panel.currentEvent())},"windowDidResignKey:":function(){this.utils.emit("blur")}})),r||(r=new a({state:{wasReady:0},utils:null,"webView:didCommitNavigation:":function(e){this.utils.emit("will-navigate",{},String(String(e.URL())))},"webView:didStartProvisionalNavigation:":function(){this.utils.emit("did-start-navigation"),this.utils.emit("did-start-loading")},"webView:didReceiveServerRedirectForProvisionalNavigation:":function(){this.utils.emit("did-get-redirect-request")},"webView:didFailProvisionalNavigation:withError:":function(e,t,n){this.utils.emit("did-fail-load",n)},"webView:didFinishNavigation:":function(){0==this.state.wasReady&&(this.state.wasReady=1,this.utils.emitBrowserEvent("ready-to-show")),this.utils.emit("did-navigate"),this.utils.emit("did-frame-navigate"),this.utils.emit("did-stop-loading"),this.utils.emit("did-finish-load"),this.utils.emit("did-frame-finish-load")},"webViewWebContentProcessDidTerminate:":function(){this.utils.emit("dom-ready")}})),o||(o=new a({utils:null,"userContentController:didReceiveScriptMessage:":function(e,t){var n=this.utils.parseWebArguments(String(t.body()));n&&n[0]&&"string"==typeof n[0]&&(n[0]=String(n[0]),this.utils.emit.apply(this,n))}}));var c=r.new({utils:{setTitle:e.setTitle.bind(e),emitBrowserEvent(){try{e.emit.apply(e,arguments)}catch(e){throw console.error(e),e}},emit(){try{e.webContents.emit.apply(e.webContents,arguments)}catch(e){throw console.error(e),e}}},state:{wasReady:0}});n.setNavigationDelegate(c);var d=o.new({utils:{emit(){try{e.webContents.emit.apply(e.webContents,arguments)}catch(e){throw console.error(e),e}},parseWebArguments:s}});n.configuration().userContentController().addScriptMessageHandler_name(d,l.JS_BRIDGE);var h,f={emit(){try{e.emit.apply(e,arguments)}catch(e){throw console.error(e),e}}};u.modal&&((h="Document"===u.parent.type?u.parent.sketchObject:u.parent)&&"MSDocumentData"===String(h.class())&&(h=h.delegate()),f.parentWindow=h.windowForSheet());var m=i.new({utils:f,panel:t});t.setDelegate(m)}},"./node_modules/sketch-module-web-view/lib/webview-api.js":
/*!****************************************************************!*\
  !*** ./node_modules/sketch-module-web-view/lib/webview-api.js ***!
  \****************************************************************/
/*! no static exports found */function(e,t,n){var i=n(/*! events */"events"),r=n(/*! ./execute-javascript */"./node_modules/sketch-module-web-view/lib/execute-javascript.js");e.exports=function(e,t,n){var o=new i;o.loadURL=e.loadURL,o.loadFile=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},o.downloadURL=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},o.getURL=function(){return String(n.url())},o.getTitle=function(){return String(n.title())},o.isDestroyed=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},o.focus=e.focus,o.isFocused=e.isFocused,o.isLoading=function(){return!!n.loading()},o.isLoadingMainFrame=function(){return!!n.loading()},o.isWaitingForResponse=function(){return!n.loading()},o.stop=function(){n.stopLoading()},o.reload=function(){n.reload()},o.reloadIgnoringCache=function(){n.reloadFromOrigin()},o.canGoBack=function(){return!!n.canGoBack()},o.canGoForward=function(){return!!n.canGoForward()},o.canGoToOffset=function(e){return!!n.backForwardList().itemAtIndex(e)},o.clearHistory=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},o.goBack=function(){n.goBack()},o.goForward=function(){n.goForward()},o.goToIndex=function(e){var t=n.backForwardList(),i=t.backList(),r=i.count();if(r>e)n.loadRequest(NSURLRequest.requestWithURL(i[e]));else{var o=t.forwardList();if(!(o.count()>e-r))throw new Error("Cannot go to index "+e);n.loadRequest(NSURLRequest.requestWithURL(o[e-r]))}},o.goToOffset=function(e){if(!o.canGoToOffset(e))throw new Error("Cannot go to offset "+e);n.loadRequest(NSURLRequest.requestWithURL(n.backForwardList().itemAtIndex(e)))},o.isCrashed=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},o.setUserAgent=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},o.getUserAgent=function(){const e=n.customUserAgent();return e?String(e):void 0},o.insertCSS=function(e){var t="var style = document.createElement('style'); style.innerHTML = "+e.replace(/"/,'\\"')+"; document.head.appendChild(style);",i=WKUserScript.alloc().initWithSource_injectionTime_forMainFrameOnly(t,0,!0);n.configuration().userContentController().addUserScript(i)},o.insertJS=function(e){var t=WKUserScript.alloc().initWithSource_injectionTime_forMainFrameOnly(e,0,!0);n.configuration().userContentController().addUserScript(t)},o.executeJavaScript=r(n,e),o.setIgnoreMenuShortcuts=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},o.setAudioMuted=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},o.isAudioMuted=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},o.setZoomFactor=function(e){n.setMagnification_centeredAtPoint(e,CGPointMake(0,0))},o.getZoomFactor=function(e){e(Number(n.magnification()))},o.setZoomLevel=function(e){o.setZoomFactor(Math.pow(1.2,e))},o.getZoomLevel=function(e){e(Math.log(Number(n.magnification()))/Math.log(1.2))},o.setVisualZoomLevelLimits=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},o.setLayoutZoomLevelLimits=function(){console.warn("Not implemented yet, please open a PR on https://github.com/skpm/sketch-module-web-view :)")},o.send=function(){const e="window.postMessage({isSketchMessage: true,origin: '"+String(__command.identifier())+"',args: "+JSON.stringify([].slice.call(arguments))+'}, "*")';n.evaluateJavaScript_completionHandler(e,null)},o.getNativeWebview=function(){return n},e.webContents=o}},"./node_modules/sketch-module-web-view/remote.js":
/*!*******************************************************!*\
  !*** ./node_modules/sketch-module-web-view/remote.js ***!
  \*******************************************************/
/*! no static exports found */function(e,t,n){var i=NSThread.mainThread().threadDictionary();e.exports.getWebview=function(e){return n(/*! ./lib */"./node_modules/sketch-module-web-view/lib/index.js").fromId(e)},e.exports.isWebviewPresent=function(e){return!!i[e]},e.exports.sendToWebview=function(t,n){if(e.exports.isWebviewPresent(t)){for(var r=null,o=i[t].contentView().subviews(),a=0;a<o.length;a+=1)r||o[a].isKindOfClass(WKInspectorWKWebView)||!o[a].isKindOfClass(WKWebView)||(r=o[a]);if(!r||!r.evaluateJavaScript_completionHandler)throw new Error("Webview "+t+" not found");r.evaluateJavaScript_completionHandler(n,null)}}},"./resources/register.html":
/*!*********************************!*\
  !*** ./resources/register.html ***!
  \*********************************/
/*! no static exports found */function(e,t){e.exports="file://"+context.plugin.urlForResourceNamed("_webpack_resources/2c1ae4982fca37fba507d160e1405ab0.html").path()},"./resources/webview.html":
/*!********************************!*\
  !*** ./resources/webview.html ***!
  \********************************/
/*! no static exports found */function(e,t){e.exports="file://"+context.plugin.urlForResourceNamed("_webpack_resources/60c8e21cee005792f458a34b6d9f91df.html").path()},"./src/AssignStylesAutomatically.js":
/*!******************************************!*\
  !*** ./src/AssignStylesAutomatically.js ***!
  \******************************************/
/*! exports provided: onHowStylerWorks, onReportIssue, onScanLayer, onScanArtboard, onScanPage, onScanDocument, onValidate, showRegistration, scanTextLayers, onShutdown */function(e,t,n){"use strict";n.r(t),n.d(t,"onHowStylerWorks",function(){return y}),n.d(t,"onReportIssue",function(){return b}),n.d(t,"onScanLayer",function(){return w}),n.d(t,"onScanArtboard",function(){return v}),n.d(t,"onScanPage",function(){return x}),n.d(t,"onScanDocument",function(){return N}),n.d(t,"onValidate",function(){return _}),n.d(t,"showRegistration",function(){return k}),n.d(t,"scanTextLayers",function(){return C}),n.d(t,"onShutdown",function(){return A});var i,r,o=n(/*! sketch-module-web-view */"./node_modules/sketch-module-web-view/lib/index.js"),a=n.n(o),s=n(/*! sketch-module-web-view/remote */"./node_modules/sketch-module-web-view/remote.js"),l=n(/*! sketch/ui */"sketch/ui"),u=n.n(l),c=n(/*! ./StylesHelpers */"./src/StylesHelpers.js"),d="assign-styles-automatically.webview",h="assign-styles-automatically.webviewReg",f=c.actionScope.DOCUMENT,m=0,p=!1,S=!1,g=!1;function y(e){NSWorkspace.sharedWorkspace().openURL(NSURL.URLWithString("http://www.sketchstyler.com"))}function b(e){NSWorkspace.sharedWorkspace().openURL(NSURL.URLWithString("https://github.com/oodesign/sketch-styler/issues"))}function w(e){c.analytics("ScanLayer");var t=!1;if(1===e.selection.length){var n=e.selection.firstObject();null!=n&&n.isKindOfClass(MSTextLayer)&&(t=!0)}t?null==n.sharedStyle()?(f=c.actionScope.LAYER,_(e)):u.a.message("The selected text layer has already a style."):u.a.message("Selected element is not a text layer.")}function v(e){c.analytics("ScanArtboard");var t=!1;if(1===e.selection.length){var n=e.selection.firstObject();null!=n&&n.isKindOfClass(MSArtboardGroup)&&(t=!0)}t?(f=c.actionScope.ARTBOARD,_(e)):u.a.message("Selected element is not an artboard.")}function x(e){c.analytics("ScanPage");var t=!1;null!=e.document.currentPage()&&(t=!0),t?(f=c.actionScope.PAGE,_(e)):u.a.message("Looks like there is no active page at the moment...")}function N(e){c.analytics("ScanDocument"),f=c.actionScope.DOCUMENT,_(e)}var M=["app","valStatus","over","now","abs","floor"];function _(e){var t=c.ExiGuthrie();if(t==c[M[1]][M[0]])C(e);else if(t==c[M[1]][M[2]])g=!0,k(e);else{var n=c.IsInTrial(),i=new Date(parseInt(n));if(null!=n){var r=i-Date[M[3]](),o=Math[M[5]](Math[M[4]](r/864e5));(m=7-o)>0?p=!0:S=!0,k(e)}else k(e)}}function k(e){var t={identifier:h,width:1200,height:700,show:!1,titleBarStyle:"hidden"},i=new a.a(t),r=i.webContents,o=["ready-to-show","error","catch","SetTrialMode(","stringify",")","executeJavaScript","SetExpiredMode()","SetOverMode()","show","once","did-finish-load","on","RegisterKey","app","valStatus","","path","mainPluginsFolderURL","/StyleMe.json","writeTextToFile","ShowRegistrationComplete()","over","SetOverModeInReg()","ShowRegistrationFail()","StartTrial","now","ShowTrialStarted()","ContinueTrial","LetsStartTrial","LetsStart"];i[o[10]](o[0],function(){p&&r[o[6]](o[3]+JSON[o[4]](m)+o[5])[o[2]](console[o[1]]),S&&r[o[6]](o[7])[o[2]](console[o[1]]),g&&r[o[6]](o[8])[o[2]](console[o[1]]),i[o[9]]()}),r[o[12]](o[11],function(){p&&r[o[6]](o[3]+JSON[o[4]](m)+o[5])[o[2]](console[o[1]]),S&&r[o[6]](o[7])[o[2]](console[o[1]]),g&&r[o[6]](o[8])[o[2]](console[o[1]])}),r[o[12]](o[13],function(e){var t=c.Guthrie(e,!0);if(t==c[o[15]][o[14]]){var n={licenseKey:o[16]+e};c[o[20]](n,MSPluginManager[o[18]]()[o[17]]()+o[19]),r[o[6]](o[21])[o[2]](console[o[1]])}else t==c[o[15]][o[22]]?(r[o[6]](o[8])[o[2]](console[o[1]]),r[o[6]](o[23])[o[2]](console[o[1]])):r[o[6]](o[24])[o[2]](console[o[1]])}),r[o[12]](o[25],function(e){var t={startTime:o[16]+Date[o[26]]()};c[o[20]](t,MSPluginManager[o[18]]()[o[17]]()+o[19]),r[o[6]](o[27])[o[2]](console[o[1]])}),r[o[12]](o[28],function(){A(h),C(e)}),r[o[12]](o[29],function(){p=!0,m=7,A(h),C(e)}),r[o[12]](o[30],function(){p=!1,A(h),C(e)}),r.on("nativeLog",function(e){console.log(e)}),r.on("OpenStylerWeb",function(e){NSWorkspace.sharedWorkspace().openURL(NSURL.URLWithString("http://www.sketchstyler.com"))}),r.on("Cancel",function(){A(h)}),i.loadURL(n(/*! ../resources/register.html */"./resources/register.html"))}function C(e){var t={identifier:d,width:1200,height:700,show:!1,titleBarStyle:"hidden"},o=new a.a(t);o.once("ready-to-show",function(){o.show()});var s=o.webContents;s.on("did-finish-load",function(){var e=[];NSApp.delegate().librariesController().libraries().forEach(function(t){t.enabled()&&e.push({name:""+t.name(),libraryID:""+t.libraryID(),checked:!1})}),p&&s.executeJavaScript("SetWindowTitle(".concat(JSON.stringify(m),")")).catch(console.error),s.executeJavaScript("DrawActiveLibraries(".concat(JSON.stringify(e),")")).catch(console.error)}),s.on("nativeLog",function(e){console.log(e)}),s.on("GetThumbnail",function(t,n,r){var o=c.indexOfTextLayer(i,t),a=c.getTextStyleDummyThumbnail(e,i[o].matchingStyles[n].textStyle.style(),i[o].textLayer,i[o].textLayer.stringValue());s.executeJavaScript("DrawStyleThumbnail(".concat(JSON.stringify(a),", ").concat(JSON.stringify(r),")")).catch(console.error)}),s.on("GetMeAStyle",function(t,n,o,a,u,d,h,m,p,S,g,y){var b=c.getDefinedTextStyles(e,y),w=c.getAllTextLayers(e,!0,f);i=[];var v=[],x=c.getStylesArranged(b,e,t,n,o,a,u,d,h,m,p,S,g),N="";w.length>50&&b.length>20&&(N="Looking for matching styles. This may take a minute..."),b.length>50&&(N="Looking for matching styles. This may take a minute..."),w.length>100&&b.length>50&&(N="Wow! "+w.length+" unstyled layers and "+b.length+" styles! We're pairing texts and styles, but this may take some minutes. You may better go get some coffee?"),b.length>100&&(N="Wow! "+w.length+" unstyled layers and "+b.length+" styles!!! We're pairing texts and styles, but this may take some minutes. You may better go get some coffee?"),s.executeJavaScript("ShowProgress(".concat(JSON.stringify(N),")")).catch(console.error);for(var M=0;M<w.length;M++){var _=c.getBase64(w[M],w[M].frame().width(),w[M].frame().height()),k=c.findMatchInArranged(w[M],x,t,n,o,a,u,d,h,m,p,S,g);i.push({textLayer:w[M],layerID:w[M].objectID(),matchingStyles:k});for(var C={matchingStyles:[]},A=0;A<k.length;A++){var F;F=0==A?c.getTextStyleDummyThumbnail(e,k[A].textStyle.style(),w[M],w[M].stringValue()):null;var P="Couldn't load color";null!=k[A].textStyle.style().textStyle().attributes().MSAttributedStringColorAttribute&&(P="#"+k[A].textStyle.style().textStyle().attributes().MSAttributedStringColorAttribute.hexValue()),C.matchingStyles.push({styleName:""+k[A].name,textStyle:k[A].textStyle,thumbnail:F,contrastBackground:c.shouldEnableContrastMode(k[A].textStyle.style().textStyle().attributes().MSAttributedStringColorAttribute.hexValue().toString()),fontName:""+k[A].textStyle.style().textStyle().attributes().NSFont.familyName(),fontSize:k[A].textStyle.style().textStyle().attributes().NSFont.pointSize()+"pt",color:P})}var R=0;0==k.length&&(R=-1);var E="Couldn't load color",T="Couldn't gather font name",W="Couldn't gather font size",I=!1;c.firstCheckForStyle(w[M])&&(T=""+w[M].style().textStyle().attributes().NSFont.familyName(),W=w[M].style().textStyle().attributes().NSFont.pointSize()+"pt",E="#"+w[M].style().textStyle().attributes().MSAttributedStringColorAttribute.hexValue(),I=c.shouldEnableContrastMode(w[M].style().textStyle().attributes().MSAttributedStringColorAttribute.hexValue().toString())),v.push({layerID:""+w[M].objectID(),isSmall:w[M].frame().width()>2e3||w[M].frame().height()<28||w[M].frame().height()>100,contrastBackground:I,textLayer:w[M],name:""+w[M].name(),artboardID:""+w[M].parentArtboard().objectID(),artboardName:""+w[M].parentArtboard().name(),displayText:w[M].stringValue(),thumbnail:_,matchingStyles:C,styleLoaded:R,assignStyle:!0,fontName:T,fontSize:W,color:E});var j=M/w.length;s.executeJavaScript("UpdateProgress(".concat(JSON.stringify(j),")")).catch(console.error)}var L=l("artboardID")(v);r=L;s.executeJavaScript("HideProgress(".concat(100,")")).catch(console.error),s.executeJavaScript("DrawElements(".concat(JSON.stringify(L),",").concat(v.length,")")).catch(console.error)});var l=function(e){return function(t){return t.reduce(function(t,n){var i=n[e];return t[i]=(t[i]||[]).concat(n),t},{})}};s.on("AssignStyles",function(e){var t=0;for(var n in r)for(var i=r[n],o=e[n],a=0;a<i.length;a++){var s=i[a].textLayer;o[a].assignStyle&&(-1==o[a].styleLoaded||(s.setSharedStyle(i[a].matchingStyles.matchingStyles[o[a].styleLoaded].textStyle),t++))}A(d),u.a.message("Hey ho! "+t+" layers now have a cool shiny style!")}),s.on("Cancel",function(){A(d)}),o.loadURL(n(/*! ../resources/webview.html */"./resources/webview.html"))}function A(e){var t=Object(s.getWebview)(e);t&&t.close()}},"./src/StylesHelpers.js":
/*!******************************!*\
  !*** ./src/StylesHelpers.js ***!
  \******************************/
/*! no static exports found */function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=n(/*! delta-e */"./node_modules/delta-e/src/index.js"),o=n(/*! d3-color */"./node_modules/d3-color/src/index.js"),a=n(/*! @skpm/fs */"./node_modules/@skpm/fs/index.js"),s=n(/*! sketch-module-google-analytics */"./node_modules/sketch-module-google-analytics/index.js"),l={EXACT:"exact",SIMILAR:"similar"},u={LAYER:"layer",ARTBOARD:"artboard",PAGE:"page",DOCUMENT:"document"},c={app:"app",no:"no",over:"over"},d=.1,h=2,f=45;function m(e,t,n){var i=MSExportRequest.exportRequestsFromExportableLayer_inRect_useIDForName_(e,e.absoluteInfluenceRect(),!1).firstObject();i.format="png";var r=t/i.rect().size.width,o=n/i.rect().size.height;i.scale=r<o?r:o;var a=NSColorSpace.sRGBColorSpace(),s=MSExporter.exporterForRequest_colorSpace_(i,a).bitmapImageRep(),l=NSImage.alloc().init().autorelease();return l.addRepresentation(s),l}function p(e,t){return e.name<t.name?-1:e.name>t.name?1:0}function S(e){var t=e.CGImageForProposedRect_context_hints(null,nil,nil),n=NSBitmapImageRep.alloc().initWithCGImage(t);return n.setSize(e.size()),function(e){var t=e;return NSString.stringWithFormat("data:%@;base64,%@","image/png",t.base64EncodedStringWithOptions(0))}(n.representationUsingType_properties(NSPNGFileType,nil))}function g(e,t){var n=NSMutableArray.array();return e.document.pages().forEach(function(e){e.children().forEach(function(e){if("MSSymbolMaster"==e.className()||"MSArtboardGroup"==e.className())for(var i,r=NSPredicate.predicateWithFormat("className == 'MSTextLayer'"),o=e.children().filteredArrayUsingPredicate(r).objectEnumerator();i=o.nextObject();)t?null==i.sharedStyle()&&n.addObject(i):n.addObject(i)})}),n}function y(e,t,n,i,a,s,u,c,m,p,S,g,y){var w=function(e,t,n){if(!b(e,t))return!1;switch(n){case l.EXACT:var i=e.style().textStyle().attributes().NSFont.familyName()==t.textStyle.style().textStyle().attributes().NSFont.familyName();return i;case l.SIMILAR:return!1}}(e,t,l.EXACT),v=function(e,t,n){if(!b(e,t))return!1;switch(n){case l.EXACT:var i=NSFontManager.sharedFontManager().weightOfFont_(e.style().textStyle().attributes().NSFont)==NSFontManager.sharedFontManager().weightOfFont_(t.textStyle.style().textStyle().attributes().NSFont);return i;case l.SIMILAR:var r=NSFontManager.sharedFontManager().weightOfFont_(e.style().textStyle().attributes().NSFont),o=NSFontManager.sharedFontManager().weightOfFont_(t.textStyle.style().textStyle().attributes().NSFont),a=r-h,s=r+h;return a<=o&&o<=s}}(e,t,a?l.SIMILAR:l.EXACT),x=function(e,t,n){if(!b(e,t))return!1;switch(n){case l.EXACT:var i=e.style().textStyle().attributes().NSFont.pointSize()==t.textStyle.style().textStyle().attributes().NSFont.pointSize();return i;case l.SIMILAR:var r=e.style().textStyle().attributes().NSFont.pointSize(),o=t.textStyle.style().textStyle().attributes().NSFont.pointSize(),a=r-r*d,s=r+r*d;return a<=o&&o<=s}}(e,t,u?l.SIMILAR:l.EXACT),N=function(e,t,n){if(!b(e,t))return!1;switch(n){case l.EXACT:var i=!1;return null!=e.style().textStyle().attributes().MSAttributedStringColorAttribute&&null!=t.textStyle.style().textStyle().attributes().MSAttributedStringColorAttribute&&(i=e.style().textStyle().attributes().MSAttributedStringColorAttribute.hexValue()==t.textStyle.style().textStyle().attributes().MSAttributedStringColorAttribute.hexValue()),i;case l.SIMILAR:if(null!=e.style().textStyle().attributes().MSAttributedStringColorAttribute&&null!=t.textStyle.style().textStyle().attributes().MSAttributedStringColorAttribute){var a=e.style().textStyle().attributes().MSAttributedStringColorAttribute.hexValue(),s=t.textStyle.style().textStyle().attributes().MSAttributedStringColorAttribute.hexValue(),u=o.lab("#"+a),c=o.lab("#"+s),d={L:u.l,A:u.a,B:u.b},h={L:c.l,A:c.a,B:c.b},m=r.getDeltaE76(d,h);return parseFloat(m)<f}return!1}}(e,t,m?l.SIMILAR:l.EXACT),M=function(e,t,n){if(!b(e,t))return!1;switch(n){case l.EXACT:var i=!1;return null!=e.style().textStyle().attributes().NSParagraphStyle.paragraphSpacing()&&null!=t.textStyle.style().textStyle().attributes().NSParagraphStyle.paragraphSpacing()&&(i=e.style().textStyle().attributes().NSParagraphStyle.paragraphSpacing()==t.textStyle.style().textStyle().attributes().NSParagraphStyle.paragraphSpacing()),i;case l.SIMILAR:return!1}}(e,t,l.EXACT),_=function(e,t,n){if(!b(e,t))return!1;switch(n){case l.EXACT:var i=!1;return null!=e.style().textStyle().attributes().NSParagraphStyle.minimumLineHeight()&&null!=t.textStyle.style().textStyle().attributes().NSParagraphStyle.minimumLineHeight()&&(i=e.style().textStyle().attributes().NSParagraphStyle.minimumLineHeight()==t.textStyle.style().textStyle().attributes().NSParagraphStyle.minimumLineHeight()),i;case l.SIMILAR:return!1}}(e,t,l.EXACT),k=function(e,t,n){if(!b(e,t))return!1;switch(n){case l.EXACT:var i=!1;return null!=e.style().textStyle().attributes().NSParagraphStyle.alignment()&&null!=t.textStyle.style().textStyle().attributes().NSParagraphStyle.alignment()&&(i=e.style().textStyle().attributes().NSParagraphStyle.alignment()==t.textStyle.style().textStyle().attributes().NSParagraphStyle.alignment()),i;case l.SIMILAR:}}(e,t,l.EXACT),C=function(e,t,n){if(!b(e,t))return!1;switch(n){case l.EXACT:var i=!1;try{i=0==e.style().textStyle().attributes().NSKern.toString().localeCompare(t.textStyle.style().textStyle().attributes().NSKern.toString())}catch(n){i=e.style().textStyle().attributes().NSKern==t.textStyle.style().textStyle().attributes().NSKern}return i;case l.SIMILAR:return!1}}(e,t,l.EXACT),A=!0;return n&&(A=A&&w),(i||a)&&(A=A&&v),(s||u)&&(A=A&&x),(c||m)&&(A=A&&N),p&&(A=A&&M),S&&(A=A&&_),g&&(A=A&&k),y&&(A=A&&C),A}function b(e,t){return!(!w(e)||!w(t.textStyle))}function w(e){return null!=e&&null!=e.style().textStyle()&&null!=e.style().textStyle().attributes()}function v(e,t){return e.filter(function(e){return e==t}).length>=1}function x(e,t){var n=!1,i=t.toString().split("[")[1];if(null==i&&(i=t.toString().split("[")[0]),null==i&&(i=t.toString()),null!=i){var r=i.replace("]","");e.toString().indexOf(r)>-1&&(n=!0)}var o=e.toString().split("[")[1];if(null==o&&(o=e.toString().split("[")[0]),null==o&&(o=e.toString()),null!=o){var a=o.replace("]","");t.toString().indexOf(a)>-1&&(n=!0)}return n}var N=["init","alloc","/usr/bin/curl","setLaunchPath","setArguments","pipe","setStandardOutput","setStandardError","launch","waitUntilExit","terminationStatus","readDataToEndOfFile","fileHandleForReading","initWithData_encoding","success","app","purchase","uses","quantity","over","no"];function M(e,t){var n=NSTask[N[1]]()[N[0]]();n[N[3]](N[2]),n[N[4]](e);var r=NSPipe[N[5]](),o=NSPipe[N[5]]();n[N[6]](r),n[N[7]](o),n[N[8]](),n[N[9]]();var a=n[N[10]](),s=o[N[12]]()[N[11]]();NSString[N[1]]()[N[13]](s,NSUTF8StringEncoding);if(0==a){var l=r[N[12]]()[N[11]](),u=function(e){try{var t=JSON.parse(e);if(t&&"object"===i(t)&&null!==t)return t}catch(e){}return!1}(NSString[N[1]]()[N[13]](l,NSUTF8StringEncoding));return u[N[14]]?t&&null!=u[N[16]]&&u[N[17]]>u[N[16]][N[18]]?c[N[19]]:c[N[15]]:c[N[20]]}}var _=function(e,t){return JSON.parse(a.readFileSync(e,{encoding:"utf8"}))},k=["path","mainPluginsFolderURL","/StyleMe.json","startTime","licenseKey","-d","product_permalink=sketchstyler","license_key=","","increment_uses_count=","https://api.gumroad.com/v2/licenses/verify"];function C(e,t){return M([k[5],k[6],k[5],k[7]+e+k[8],k[5],k[9]+t.toString()+k[8],k[10]],t)}e.exports={getDefinedTextStyles:function(e,t){for(var n=[],i=e.document.documentData().layerTextStyles().objects(),r=0;r<i.count();r++){var o=i.objectAtIndex(r);n.push({textStyle:o,name:o.name(),libraryName:"local",foreign:!1})}e.document.documentData().foreignTextStyles().forEach(function(e){var t=e.localObject().style().textStyle().attributes(),i=function(e,t){for(var n=0;n<e.length;n++)if(null!=e[n].remoteShareID&&x(e[n].remoteShareID,t.remoteShareID()))return n;return-1}(n,e);-1==i?n.push({originalStyle:e,attributes:t,textStyle:e.localObject(),name:e.localObject().name()+"(Lib)",libraryName:e.sourceLibraryName(),foreign:!0,localShareID:e.localShareID(),remoteShareID:e.remoteShareID(),correlativeStyles:[]}):n[i].correlativeStyles.push(e)});var a=!1;for(r=0;r<t.length;r++)t[r].checked&&(a=!0);return a&&NSApp.delegate().librariesController().libraries().forEach(function(e){if(e.enabled()){var i=function(e,t){for(var n=0;n<e.length;n++)if(0==e[n].libraryID.localeCompare(t))return n;return-1}(t,e.libraryID());i>=0&&t[i].checked&&e.document().layerTextStyles().objects().forEach(function(t){if(!function(e,t){for(var n=0;n<e.length;n++)if(null!=e[n].originalStyle&&0==e[n].originalStyle.remoteShareID().localeCompare(t.objectID()))return!0;return!1}(n,t)){var i=t.style().textStyle().attributes();n.push({textStyle:t,attributes:i,name:t.name()+"("+e.name()+")",libraryName:e.name(),foreign:!0,library:e})}})}}),n=n.sort(p)},getAllTextLayers:function(e,t,n){var i=NSMutableArray.array();switch(n){case u.LAYER:i=function(e,t){var n=NSMutableArray.array(),i=e.selection.firstObject();return t?null==i.sharedStyle()&&n.addObject(i):n.addObject(i),n}(e,t);break;case u.ARTBOARD:i=function(e,t){var n=NSMutableArray.array();return e.selection.firstObject().children().forEach(function(e){e.isKindOfClass(MSTextLayer)&&(t?null==e.sharedStyle()&&n.addObject(e):n.addObject(e))}),n}(e,t);break;case u.PAGE:i=function(e,t){var n=NSMutableArray.array(),i=e.document.currentPage();return null!=i&&i.children().forEach(function(e){if("MSSymbolMaster"==e.className()||"MSArtboardGroup"==e.className())for(var i,r=NSPredicate.predicateWithFormat("className == 'MSTextLayer'"),o=e.children().filteredArrayUsingPredicate(r).objectEnumerator();i=o.nextObject();)t?null==i.sharedStyle()&&n.addObject(i):n.addObject(i)}),n}(e,t);break;case u.DOCUMENT:default:i=g(e,t)}return i},getThumbnail:m,getBase64:function(e,t,n){return""+S(m(e,t,n))},getTextStyleDummyThumbnail:function(e,t,n,i){var r=MSTextLayer.new(),o=n.frame().width(),a=n.frame().height();r.stringValue=null!=i?i:"The quick brown fox",r.style=t,e.document.currentPage().addLayer(r),r.frame().setWidth(o),r.frame().setHeight(a),r.setTextBehaviour(n.textBehaviour());var s=""+S(m(r,o,a));return r.removeFromParent(),e.document.reloadInspector(),s},indexOfTextStyle:function(e,t){for(var n=0;n<e.length;n++)if(e[n].textStyle===t)return n;return-1},indexOfSimilarTextStyle:function(e,t){for(var n=0;n<e.length;n++)if(v(e[n],t))return n;return-1},indexOfTextLayer:function(e,t){for(var n=0;n<e.length;n++)if(0==e[n].layerID.localeCompare(t))return n;return-1},shouldEnableContrastMode:function(e){var t,i=n(/*! sketch/ui */"sketch/ui").getTheme(),a=o.lab("#"+e);t="dark"===i?o.lab("#212124"):o.lab("#F9F9F9");var s={L:a.l,A:a.a,B:a.b},l={L:t.l,A:t.a,B:t.b},u=r.getDeltaE76(s,l);return parseFloat(u)<30},getStylesArranged:function(e,t,n,i,r,o,a,s,l,u,c,d,h){var f=[],m=[];return e.forEach(function(t){if(m.indexOf(t)<0){var p=function(e,t,n,i,r,o,a,s,l,u,c,d,h,f){var m=[];return t.forEach(function(t){f.indexOf(t)<0&&y(e,t,n,i,r,o,a,s,l,u,c,d,h)&&m.push(t)}),m}(t.textStyle,e,n,i,r,o,a,s,l,u,c,d,h,m);f.push(p),m.push(t),p.forEach(function(e){m.push(e)})}}),f},findMatchInArranged:function(e,t,n,i,r,o,a,s,l,u,c,d,h){for(var f=0;f<t.length;f++)if(t[f].length>0&&y(e,t[f][0],n,i,r,o,a,s,l,u,c,d,h))return t[f];return[]},Guthrie:C,ExiGuthrie:function(){try{var e=_(MSPluginManager[k[1]]()[k[0]]()+k[2]);return null!=e&&null!=e[k[4]]&&C(e[k[4]],!1)}catch(e){return!1}},IsInTrial:function(){try{var e=_(MSPluginManager[k[1]]()[k[0]]()+k[2]);return null!=e&&null!=e[k[3]]?e[k[3]]:null}catch(e){return null}},writeTextToFile:function(e,t){NSString.stringWithFormat("%@",e);var n=NSString.stringWithFormat("%@",t);a.writeFileSync(n,JSON.stringify(e),{encoding:"utf8"})},actionScope:u,valStatus:c,firstCheckForStyle:w,analytics:function(e){s("UA-148526709-1","event",{ec:"command",ea:"start",ev:""+e})}}},buffer:
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/*! no static exports found */function(e,t){e.exports=require("buffer")},events:
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/*! no static exports found */function(e,t){e.exports=require("events")},"sketch/settings":
/*!**********************************!*\
  !*** external "sketch/settings" ***!
  \**********************************/
/*! no static exports found */function(e,t){e.exports=require("sketch/settings")},"sketch/ui":
/*!****************************!*\
  !*** external "sketch/ui" ***!
  \****************************/
/*! no static exports found */function(e,t){e.exports=require("sketch/ui")}});"default"===key&&"function"==typeof exports?exports(context):exports[key](context)}that.onScanLayer=__skpm_run.bind(this,"onScanLayer"),that.onShutdown=__skpm_run.bind(this,"onShutdown"),that.onRun=__skpm_run.bind(this,"default"),that.onScanArtboard=__skpm_run.bind(this,"onScanArtboard"),that.onShutdown=__skpm_run.bind(this,"onShutdown"),that.onScanPage=__skpm_run.bind(this,"onScanPage"),that.onShutdown=__skpm_run.bind(this,"onShutdown"),that.onScanDocument=__skpm_run.bind(this,"onScanDocument"),that.onShutdown=__skpm_run.bind(this,"onShutdown"),that.onHowStylerWorks=__skpm_run.bind(this,"onHowStylerWorks"),that.onReportIssue=__skpm_run.bind(this,"onReportIssue");